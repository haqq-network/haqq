(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{652:function(e,t,a){"use strict";a.r(t);var o=a(1),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"single-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#single-node"}},[e._v("#")]),e._v(" Single Node")]),e._v(" "),a("h2",{attrs:{id:"pre-requisite-readings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pre-requisite-readings"}},[e._v("#")]),e._v(" Pre-requisite Readings")]),e._v(" "),a("ul",[a("li",{attrs:{prereq:""}},[a("RouterLink",{attrs:{to:"/quickstart/installation.html"}},[e._v("Install Binary")])],1)]),e._v(" "),a("h2",{attrs:{id:"install-go"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-go"}},[e._v("#")]),e._v(" Install Go")]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[e._v("Haqq is built using "),a("a",{attrs:{href:"https://golang.org/dl/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Go"),a("OutboundLink")],1),e._v(" version "),a("code",[e._v("1.19+")])])]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z28gdmVyc2lvbgo="}}),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[e._v("If the "),a("code",[e._v("haqqd: command not found")]),e._v(" error message is returned, confirm that your "),a("a",{attrs:{href:"https://golang.org/doc/gopath_code#GOPATH",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("GOPATH")]),a("OutboundLink")],1),e._v(" is correctly configured by running the following command:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"ZXhwb3J0IFBBVEg9JFBBVEg6JChnbyBlbnYgR09QQVRIKS9iaW4K"}})],1),e._v(" "),a("h2",{attrs:{id:"automated-localnet-script"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#automated-localnet-script"}},[e._v("#")]),e._v(" Automated Localnet (script)")]),e._v(" "),a("p",[e._v("You can customize the local testnet script by changing values for convenience for example:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"IyBjdXN0b21pemUgdGhlIG5hbWUgb2YgeW91ciBrZXksIHRoZSBjaGFpbi1pZCwgbW9uaWtlciBvZiB0aGUgbm9kZSwga2V5cmluZyBiYWNrZW5kLCBhbmQgbG9nIGxldmVsCktFWT0mcXVvdDtteWtleSZxdW90OwpDSEFJTklEPSZxdW90O2hhcXFfMTIxNzk5LTEmcXVvdDsKTU9OSUtFUj0mcXVvdDtsb2NhbHRlc3RuZXQmcXVvdDsKS0VZUklORz0mcXVvdDt0ZXN0JnF1b3Q7CkxPR0xFVkVMPSZxdW90O2luZm8mcXVvdDsKCgojIEFsbG9jYXRlIGdlbmVzaXMgYWNjb3VudHMgKGNvc21vcyBmb3JtYXR0ZWQgYWRkcmVzc2VzKQpoYXFxZCBhZGQtZ2VuZXNpcy1hY2NvdW50ICRLRVkgMTAwMDAwSVNMTSAtLWtleXJpbmctYmFja2VuZCAkS0VZUklORwoKIyBTaWduIGdlbmVzaXMgdHJhbnNhY3Rpb24KaGFxcWQgZ2VudHggJEtFWSAxMDAwMDBJU0xNIC0ta2V5cmluZy1iYWNrZW5kICRLRVlSSU5HIC0tY2hhaW4taWQgJENIQUlOSUQK"}}),e._v(" "),a("p",[e._v("The default configuration will generate a single validator localnet with the chain-id\n"),a("code",[e._v("haqq_121799-1")]),e._v(" and one predefined account ("),a("code",[e._v("mykey")]),e._v(") with some allocated funds at the genesis.")]),e._v(" "),a("p",[e._v("You can start the local chain using:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"aW5pdC5zaAo="}}),e._v(" "),a("h2",{attrs:{id:"manual-localnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#manual-localnet"}},[e._v("#")]),e._v(" Manual Localnet")]),e._v(" "),a("p",[e._v("This guide helps you create a single validator node that runs a network locally for testing and other development related uses.")]),e._v(" "),a("h3",{attrs:{id:"initialize-the-chain"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#initialize-the-chain"}},[e._v("#")]),e._v(" Initialize the chain")]),e._v(" "),a("p",[e._v("Before actually running the node, we need to initialize the chain, and most importantly its genesis file. This is done with the "),a("code",[e._v("init")]),e._v(" subcommand:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"JE1PTklLRVI9dGVzdGluZwokS0VZPW15a2V5CiRDSEFJTklEPSZxdW90O2hhcXFfMTIxNzk5LTEmcXVvdDsKCiMgVGhlIGFyZ3VtZW50ICRNT05JS0VSIGlzIHRoZSBjdXN0b20gdXNlcm5hbWUgb2YgeW91ciBub2RlLCBpdCBzaG91bGQgYmUgaHVtYW4tcmVhZGFibGUuCmhhcXFkIGluaXQgJE1PTklLRVIgLS1jaGFpbi1pZD0kQ0hBSU5JRAo="}}),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[e._v("You can "),a("RouterLink",{attrs:{to:"/quickstart/binary.html#configuring-the-node"}},[e._v("edit")]),e._v(" this "),a("code",[e._v("moniker")]),e._v(" later by updating the "),a("code",[e._v("config.toml")]),e._v(" file.")],1)]),e._v(" "),a("p",[e._v("The command above creates all the configuration files needed for your node and validator to run, as well as a default genesis file, which defines the initial state of the network. All these "),a("RouterLink",{attrs:{to:"/quickstart/binary.html#configuring-the-node"}},[e._v("configuration files")]),e._v(" are in "),a("code",[e._v("~/.haqqd")]),e._v(" by default, but you can overwrite the location of this folder by passing the "),a("code",[e._v("--home")]),e._v(" flag.")],1),e._v(" "),a("h3",{attrs:{id:"genesis-procedure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#genesis-procedure"}},[e._v("#")]),e._v(" Genesis Procedure")]),e._v(" "),a("h3",{attrs:{id:"adding-genesis-accounts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adding-genesis-accounts"}},[e._v("#")]),e._v(" Adding Genesis Accounts")]),e._v(" "),a("p",[e._v("Before starting the chain, you need to populate the state with at least one account using the "),a("RouterLink",{attrs:{to:"/guides/keys-wallets/keyring.html#add-keys"}},[e._v("keyring")]),e._v(":")],1),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"aGFxcWQga2V5cyBhZGQgbXlfdmFsaWRhdG9yIC0ta2V5cmluZy1iYWNrZW5kPXRlc3QK"}}),e._v(" "),a("p",[e._v("Once you have created a local account, go ahead and grant it some "),a("code",[e._v("ISLM")]),e._v(" tokens in your chain's genesis file. Doing so will also make sure your chain is aware of this account's existence:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"aGFxcWQgYWRkLWdlbmVzaXMtYWNjb3VudCBteV92YWxpZGF0b3IgMTAwMDAwSVNMTSAtLWtleXJpbmctYmFja2VuZCB0ZXN0Cg=="}}),e._v(" "),a("p",[e._v("Now that your account has some tokens, you need to add a validator to your chain.")]),e._v(" "),a("p",[e._v("For this guide, you will add your local node (created via the "),a("code",[e._v("init")]),e._v(" command above) as a validator of your chain. Validators can be declared before a chain is first started via a special transaction included in the genesis file called a "),a("code",[e._v("gentx")]),e._v(":")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"IyBDcmVhdGUgYSBnZW50eAojIE5PVEU6IHRoaXMgY29tbWFuZCBsZXRzIHlvdSBzZXQgdGhlIG51bWJlciBvZiBjb2lucy4gCiMgTWFrZSBzdXJlIHRoaXMgYWNjb3VudCBoYXMgc29tZSBjb2lucyB3aXRoIHRoZSBnZW5lc2lzLmFwcF9zdGF0ZS5zdGFraW5nLnBhcmFtcy5ib25kX2Rlbm9tIGRlbm9tCgpoYXFxZCBnZW50eCAkS0VZIDEwMDAwMElTTE0gLS1rZXlyaW5nLWJhY2tlbmQgJEtFWVJJTkcgLS1jaGFpbi1pZCAkQ0hBSU5JRAo="}}),e._v(" "),a("p",[e._v("A "),a("code",[e._v("gentx")]),e._v(" does three things:")]),e._v(" "),a("ol",[a("li",[e._v("Registers the "),a("code",[e._v("validator")]),e._v(" account you created as a validator operator account (i.e. the account that controls the validator).")]),e._v(" "),a("li",[e._v("Self-delegates the provided "),a("code",[e._v("amount")]),e._v(" of staking tokens.")]),e._v(" "),a("li",[e._v("Link the operator account with a Tendermint node pubkey that will be used for signing blocks. If no "),a("code",[e._v("--pubkey")]),e._v(" flag is provided, it defaults to the local node pubkey created via the "),a("code",[e._v("haqqd init")]),e._v(" command above.")])]),e._v(" "),a("p",[e._v("For more information on "),a("code",[e._v("gentx")]),e._v(", use the following command:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"aGFxcWQgZ2VudHggLS1oZWxwCg=="}}),e._v(" "),a("h3",{attrs:{id:"collecting-gentx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#collecting-gentx"}},[e._v("#")]),e._v(" Collecting "),a("code",[e._v("gentx")])]),e._v(" "),a("p",[e._v("By default, the genesis file do not contain any "),a("code",[e._v("gentxs")]),e._v(". A "),a("code",[e._v("gentx")]),e._v(" is a transaction that bonds\nstaking token present in the genesis file under "),a("code",[e._v("accounts")]),e._v(" to a validator, essentially creating a\nvalidator at genesis. The chain will start as soon as more than 2/3rds of the validators (weighted\nby voting power) that are the recipient of a valid "),a("code",[e._v("gentx")]),e._v(" come online after "),a("code",[e._v("genesis_time")]),e._v(".")]),e._v(" "),a("p",[e._v("A "),a("code",[e._v("gentx")]),e._v(" can be added manually to the genesis file, or via the following command:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"IyBBZGQgdGhlIGdlbnR4IHRvIHRoZSBnZW5lc2lzIGZpbGUKaGFxcWQgY29sbGVjdC1nZW50eHMK"}}),e._v(" "),a("p",[e._v("This command will add all the "),a("code",[e._v("gentxs")]),e._v(" stored in "),a("code",[e._v("~/.haqqd/config/gentx")]),e._v(" to the genesis file.")]),e._v(" "),a("h3",{attrs:{id:"run-testnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#run-testnet"}},[e._v("#")]),e._v(" Run Testnet")]),e._v(" "),a("p",[e._v("Finally, check the correctness of the "),a("code",[e._v("genesis.json")]),e._v(" file:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"aGFxcWQgdmFsaWRhdGUtZ2VuZXNpcwo="}}),e._v(" "),a("p",[e._v("Now that everything is set up, you can finally start your node:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"aGFxcWQgc3RhcnQK"}}),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[e._v("To check all the available customizable options when running the node, use the "),a("code",[e._v("--help")]),e._v(" flag.")])]),e._v(" "),a("p",[e._v("You should see blocks come in.")]),e._v(" "),a("p",[e._v("The previous command allow you to run a single node. This is enough for the next section on interacting with this node, but you may wish to run multiple nodes at the same time, and see how consensus happens between them.")]),e._v(" "),a("p",[e._v("You can then stop the node using "),a("code",[e._v("Ctrl+C")]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"export-keys"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#export-keys"}},[e._v("#")]),e._v(" Export keys")]),e._v(" "),a("p",[e._v("You can make unsafe export:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"aGFxcWQga2V5cyB1bnNhZmUtZXhwb3J0LWV0aC1rZXkgJE1PTklLRVIgLS1rZXlyaW5nLWJhY2tlbmQgdGVzdAo="}})],1)}),[],!1,null,null,null);t.default=s.exports}}]);